% ALGORITHM
%
% - receive the raw data from labview as 'labview inputs'
% - save this raw data in the corresponding Signal() structures
% - process the signals using the dedicated estimation object


% initialize the workspace
clc;
close all;
cd 'C:\Users\ebadat\Desktop\GitHub\OpenTestbed\Software\Matlab'; % TODO
%
% to print debug information or not
global bPrintDebugInformation;
global tFileID;
%
bPrintDebugInformation	= false;
tFileID					= fopen('C:\HVAC\log\OccupancyEstimators.txt', 'a');
%
% import the necessary classes
import MatlabToTikZ.*;
import OccupancyEstimators.*;


global tEstimator;
global tAirInletValveOpeningSignal;
global tAirInletTemperatureSignal;
global tAirInletCO2Signal;
global tRoomCO2Signal;
global tRoomTemperatureSignal;

% fAirInletValveOpening	=  [0  0  0  20.0575  99.9103   0.1088   0 0  0  0  0  0  0  42.5738  99.9556   0.0739   0    0   0    0   0];
% fAirInletTemperature	= [23.7614   23.7509   23.7700   23.7972   23.8182   23.8377 23.7601   23.7700   23.8065   23.7494   23.7573   23.7800 23.8225   23.8400   23.8000   23.8248   23.8072   23.7600];
% fAirInletCO2			= [549.7394  550.1132  552.8725  549.7486  554.1111  561.9342 558.2439  561.2271  568.5868  566.2662  564.6875  568.8553 573.8027  575.8246  572.0388  559.4955  568.3941  560.6879 559.0931  559.9096  563.4177];
% fRoomCO2				= [586.0000  589.7778  589.7810  589.1110  586.3358  595.9895 599.8836  608.9907  606.2869  613.9927  616.8823  613.4083  617.1715  625.9929  622.8846  616.8859  608.8864  604.0033  603.0006  598.0030  595.0017];
% fRoomTemperature		= [24.1054   24.1945   24.1001   24.1000   24.1000   24.1000   24.1000   24.1000   24.1000   24.1000    24.1000   24.1000   24.1000   24.1000   24.1000   24.0001   24.0000   24.0470   24.0000   24.0000 24.0000];	


fEstimatedOccupancy =									...
	OccupancyEstimators.EstimateOccupancyInLabview(		...
		fAirInletValveOpening,							...
		fAirInletTemperature,							...
		fAirInletCO2,									...
		fRoomCO2,										...
		fRoomTemperature								)

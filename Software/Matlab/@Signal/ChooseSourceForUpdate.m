% function iSource = ChooseSourceForUpdate( tSignal )
%
% output:   1: from the server
%           2: from a mat file
%           3: from a lookup table
%           4: sinusoidal forecast
% 	
%
function iSource = ChooseSourceForUpdate( tSignal )
	%
	tSignalsIDs	= Signal.GetSignalsIDs();
	tDevicesIDs	= Signal.GetDevicesIDs();
	%
	try %
		%
		%
		if (	(																						...
					(	tDevicesIDs.iA202LocalLookUpTableForecast <=	tSignal.iDeviceID			)	...
				&&																						...
					(	tSignal.iDeviceID <= tDevicesIDs.iEXTERNALLocalLookUpTableWeatherForecast	)	...
				)																						...
				||	( tSignal.iDeviceID == tDevicesIDs.iManualPeopleCounter	)							...
				||	( tSignal.iSignalID == tSignalsIDs.iExternalLightingTop )							)
			%
			if	(	(		tSignal.iSignalID >= tSignalsIDs.iForecastedExternalLightingTopCurrent		...
						&&	tSignal.iSignalID <= tSignalsIDs.iForecastedExternalLightingTop8h		)	...
					||	( tSignal.iSignalID == tSignalsIDs.iExternalLightingTop )					)
				%
				%
				iSource = 3;	% tSignal.GetFromFileOrLookUpTable(); 
				%
			else%
				%
				iSource = 4;	% tSignal.GetRoomTemperatureSinusoidalForecasts( tTCPConnection );
				%
			end;%
			%
		elseif (																						...
					(	tDevicesIDs.iA202ExpectedValuesForecast <=	tSignal.iDeviceID				)	...
				&&																						...
					(	tSignal.iDeviceID <= tDevicesIDs.iEXTERNALExpectedValuesForecast			)	...
				)																			
			%
			iSource = 2;	% tSignal.GetForecastFromMatFile();
			%
			% 
		else%
			%
			iSource = 1;	% tTCPConnection.GetFromServer( tSignal.iSignalID, tSignal.iDeviceID );
			%
		end;% end getting values and times of the signal
		%
		%
	catch exception
		%
		disp( exception.message );
		warning('Unable to catch the correct source for the update');
		%
	end;% end catch
	%
end %
% function SetConstraints( tController )
%
function SetConstraints( tController )
	% 
	%
 	try %
		%
		% Retreiving the needed data
		fCurrentJulianDate			=	Time.GetCurrentJulianDate();
		%------------------------------------------------------------------
		% Retriving the needed indexes
		%
		iTemperatureOfTheAirInletIndex	=	tController.tMeasurementsSignalsIndexes.iTemperatureOfFreshAirInlet;
		fTemperatureOfTheAirInlet		=	tController.atMeasurementsSignals(iTemperatureOfTheAirInletIndex).ExtractSamplesAt(fCurrentJulianDate);
		%
		%------------------------------------------------------------------
		%
		tController.tInputsBounds.fMinCoolingTemperature = 0.32 * 16.5 + 0.68 * fTemperatureOfTheAirInlet;
		tController.tInputsBounds.fMaxHeatingTemperature = fTemperatureOfTheAirInlet;
		%
		tController.tInputsBounds.afBuMin =									...
			[																...	
			tController.tInputsBounds.DeltaTh.fLowerBound ;					...
			tController.tInputsBounds.DeltaTc.fLowerBound ;					...
			tController.tInputsBounds.AdditionalHeating.fLowerBound ;		...
			tController.tInputsBounds.AdditionalCooling.fLowerBound ;		...
			tController.tInputsBounds.DeltaTrad.fLowerBound ;				...
			];
		%
		tController.tInputsBounds.afBuMax =									...
			[																...	
			tController.tInputsBounds.DeltaTh.fUpperBound ;					...
			tController.tInputsBounds.DeltaTc.fUpperBound ;					...
			0 ;																...
			0 ;																...
			tController.tInputsBounds.DeltaTrad.fUpperBound ;				...
			];
		%
		tController.tModel.afBMixed	= [	-	tController.tInputsBounds.fMinCoolingTemperature;	...
											tController.tInputsBounds.fMaxHeatingTemperature];
		%
		tController.tModel.aafGu		=	[	-DeltaMv		0		 1		 0		0;		...
													0		-DeltaMv	 0		 1		0;		...
												-DeltaMv	 DeltaMv	 1		-1		0;		...
												 DeltaMv	-DeltaMv	-1		 1		0;		...
											];
		%
		tController.tModel.aafGuMix =	[	-1   1	0	0	0;									...
											 1	-1	0	0	0 ];
		%
		tController.tModel.aafGxMix =	[	-C ; C ];
		%
	catch exception
		%
		disp(exception.message);
		warning('Problems setting the constraints.')
		%
	end;% end catch
	%
end %




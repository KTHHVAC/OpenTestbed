% function SetConstraints( tController, tParameters )
%
function SetConstraints( tController )
	% Setting the actuation and comfort constraints to pass for the system
	% dynamic
	%
	try %
		%
		tController.tInputsBounds.afInputsLowerBounds = ...
			[																...	
			tController.tInputsBounds.DeltaTh.fLowerBound ;					...
			tController.tInputsBounds.DeltaTc.fLowerBound ;					...
			tController.tInputsBounds.AdditionalHeating.fLowerBound ;		...
			tController.tInputsBounds.AdditionalCooling.fLowerBound ;		...
			tController.tInputsBounds.DeltaTrad.fLowerBound ;				...
			];
		%
		tController.tInputsBounds.afInputsUpperBounds =					...
			[															...	
			tController.tInputsBounds.DeltaTh.fUpperBound ;				...
			tController.tInputsBounds.DeltaTc.fUpperBound ;				...
			0 ;															...
			0 ;															...
			tController.tInputsBounds.DeltaTrad.fUpperBound ;			...
			];
	
	
		tController.tOutputsBounds.afOutputsLowerBounds	= tController.tOutputsBounds.Temperature.fLowerBound;
		tController.tOutputsBounds.afOutputsUpperBounds = tController.tOutputsBounds.Temperature.fUpperBound;
		
		
		%
		%
		% setting Gu 
		for iStepTime = 1 : tController.iPredictionHorizon
			%
			aafSumContribution =																												...
					diag(	[	- tController.tInputsBounds.AirMassFlow.fUpperBound	+ tController.afLowerBoundForTheVentilation(iStepTime),		...
								- tController.tInputsBounds.AirMassFlow.fUpperBound	+ tController.afLowerBoundForTheVentilation(iStepTime),		...
								0	], ...
							-2																				...
						);
			tController.tModel.aaafGu(:,:,iStepTime) =	[	-	eye( size(tController.tModel.aafB,2 ) );	...
																eye( size(tController.tModel.aafB,2 ) )		...
															+	aafSumContribution ;						...
														];
		end
		%
		tController.tModel.aafGxMixed = [		tController.tModel.aafC;	...
											-   tController.tModel.aafC ] ;
		%								
		tController.tModel.aafGuMixed = [	-1	 1	0	0	0	;			...
											1	-1	0	0	0				...
										];  
		tController.tModel.afR		  = [	-	tController.tInputsBounds.fMinCoolingTemperature;	...
												tController.tInputsBounds.fMaxHeatingTemperature	];  
		%
		%
	catch exception
		%
		disp(exception.message);
		warning('Problems setting the constraints.')
		%
	end;% end catch
	%
end %




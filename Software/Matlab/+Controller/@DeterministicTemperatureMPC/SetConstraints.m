% function SetConstraints( tController, tParameters )
%
function SetConstraints( tController )
	% Setting the actuation and comfort constraints to pass for the system
	% dynamic
	%
	try %
		tDevicesIDs							= Signal.GetDevicesIDs();
		tSignalsIDs							= Signal.GetSignalsIDs();
		fCurrentJulianDate					= Time.GetCurrentJulianDate();
		
		%
		%------------------------------------------------------------------
		%retriving the needed indexes
		%
		iTemperatureOfTheRoomIndex	=								...
				Signal.FindSignalIndex(								...
							tController.atMeasurementsSignals,		...
							tSignalsIDs.iTemperatureOfEnvironment,	...
							tDevicesIDs.iMote1035					);
		%
% 		iTemperatureFreshAirInletIndex =							...							
% 				Signal.FindSignalIndex(								...
% 							tController.atMeasurementsSignals,		...
% 							tSignalsIDs.iTemperatureOfFreshAirInlet,...
% 							tDevicesIDs.iMote1004					);
% 		%
% 		iTemperatureACIndex	=										...
% 				Signal.FindSignalIndex(								...	
% 							tController.atMeasurementsSignals,		...
% 							tSignalsIDs.iTemperatureOfAC,			...
% 							tDevicesIDs.iMote1012					);
		%
		%
		%------------------------------------------------------------------
		% retriving the measurements i need
		% 
		fTemperatureOfTheRoom		= tController.atMeasurementsSignals(iTemperatureOfTheRoomIndex).ExtractSamplesAt(fCurrentJulianDate);
% 		fTemperatureFreshAirInlet	= tController.atMeasurementsSignals(iTemperatureFreshAirInletIndex).ExtractSamplesAt(fCurrentJulianDate);		
% 		fTemperatureAC				= tController.atMeasurementsSignals(iTemperatureACIndex).ExtractSamplesAt(fCurrentJulianDate);
		%
		%------------------------------------------------------------------
		% setting and calculating the bounds
		%
		
% 		tController.tInputsBounds.afInputsLowerBounds		=				...
% 					tController.tInputsBounds.AirMassFlow.fLowerBound		...
% 				*	( fCO2OfTheRoom - LOWEST_CO2_CONCENTRATION_POSSIBLE );
% 		%	
% 		tController.tInputsBounds.afInputsUpperBounds		=				...
% 					tController.tInputsBounds.AirMassFlow.fUpperBound		...
% 				*	( fCO2OfTheRoom - LOWEST_CO2_CONCENTRATION_POSSIBLE );
% 		%	
% 		tController.tOutputsBounds.afOutputsLowerBounds		=	0;%			...
% % 					tController.tOutputsBounds.CO2.fLowerBound	...
% % 				-	tController.fLowestCO2ConcentrationPossible; 
% 		%	
% 		tController.tOutputsBounds.afOutputsUpperBounds		=				...
% 					tController.tOutputsBounds.CO2.fUpperBound	...
% 				-	tController.fLowestCO2ConcentrationPossible;
% 		%
		%
		fMinCoolingTemperature = 0.32 * 16.5 -0.68 * 20;
		%
		fMaxHeatingTemperature = 21;
		%
		tController.tModel.aafGxMixed = [		tController.tModel.aafC;	...
												tController.tModel.aafC ];
		%								
		tController.tModel.aafGuMixed = [	-1	 1	0	0	0	;	...
											1	-1	0	0	0		...
										];  
		tController.tModel.afR		  = [	-fMinCoolingTemperature;	...
											fMaxHeatingTemperature	];  % TO DO:remove numbers
		%
		%
	catch exception
		%
		disp(exception.message);
		warning('Problems setting the constraints.')
		%
	end;% end catch
	%
end %




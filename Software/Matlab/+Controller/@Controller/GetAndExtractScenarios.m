function GetAndExtractScenarios( tController )
	%
	try %
		%
		%
		if( tController.bPrintDebugInformation )
			%
			fprintf('Entering GetAndExtractScenarios()\n');
			%
		end;%
		%
		tDevicesIDs							= Signal.GetDevicesIDs();
		tSignalsIDs							= Signal.GetSignalsIDs();
		fCurrentJulianDate					= Time.GetCurrentJulianDate();
		%
		%------------------------------------------------------------------
		% get the indeces for the forecast vector
		% 
% 		iForecastedOccupancyIndex	=										...
% 				Signal.FindSignalIndex(										...
% 							tController.atForecastsSignals,					...
% 							tSignalsIDs.iForecastedOccupancy8h,				...
% 							tDevicesIDs.iA225LocalLookUpTableForecast	);
		%
% 		iForecastedSolarRadiationIndex	=												...
% 				Signal.FindSignalIndex(													...
% 							tController.atForecastsSignals,								...
% 							tSignalsIDs.iForecastedExternalLightingTop8h,	...
% 							tDevicesIDs.iEXTERNALLocalLookUpTableWeatherForecast		);
		%
		iForecastedOutsideTemperatureIndex	=								...
				Signal.FindSignalIndex(										...
							tController.atForecastsSignals,					...
							tSignalsIDs.iForecastedExternalTemperature8h,	...
							tDevicesIDs.iWundergroundWeatherForecast	); 
		%
		%------------------------------------------------------------------
		%
		% Occupancy
		aafGeneratedOccupancy				=									...
			tController.tOccupancyScenariosGenerator.ExtractScenarios(			...
										fCurrentJulianDate ,					...
										tController.iNumberOfScenarios, 2);
		tController.aafOccupancyScenarios	=													...
			aafGeneratedOccupancy( : , 2 :		tController.iPredictionHorizon					...
											/	( 3600 / tController.fSamplingTimeInSeconds  )  ...
											+	1												);
		%
		%------------------------------------------------------------------
		% Outside Temperature
		%
		aafGeneratedTemperature =												...
			tController.tTemperatureScenariosGenerator.ExtractScenarios(		...
										fCurrentJulianDate ,					...
										tController.iNumberOfScenarios);
		%
		if ( iForecastedOutsideTemperatureIndex ~= 0 )
			%
			for iHour = 1 : numel( tController.atForecastsSignals(iForecastedOutsideTemperatureIndex).afValues )
				%
				aafGeneratedTemperature( : , 1 + iHour ) =													...
						aafGeneratedTemperature( : , 1 + iHour )											...
					+	ones( numel( aafGeneratedTemperature(:,1) ) , 1 )									...
					*	tController.atForecastsSignals(iForecastedOutsideTemperatureIndex).afValues(iHour);	
				%
			end;% end adding the error to the forecast
			%
		end;% check if it is needed the temperature scenario
		%
		tController.aafTemperatureScenarios	=													...
			aafGeneratedTemperature( : , 2 :	tController.iPredictionHorizon					...
											/	( 3600 / tController.fSamplingTimeInSeconds  )  ...
											+	1												);
		%
		%------------------------------------------------------------------
		% Radiation
		%
		aafGeneratedRadiation	=												...
			tController.tRadiationScenariosGenerator.ExtractScenarios(			...
										fCurrentJulianDate ,					...
										tController.iNumberOfScenarios);
		tController.aafRadiationScenarios	=													...
			aafGeneratedRadiation( : , 2 :		tController.iPredictionHorizon					...
											/	( 3600 / tController.fSamplingTimeInSeconds  )  ...
											+	1												);
		%
		%
	catch exception
		%
		disp(exception.message);
		warning('Unable to get and extract the scenarios');
		%
	end % try
	%	
end % function


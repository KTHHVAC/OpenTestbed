% function fVentingPercentage = MassFlowToVentingPercentageLinearCase( fMassFlow , strKindOfDuct )
%
function fVentingPercentage = MassFlowToVentingPercentageLinearCase( fMassFlow , strKindOfDuct )
	%
	try %
		%
		switch strKindOfDuct 
			%
			case 'V'			% Venting Duct
				p1 =   0.001654;	% 0.001957 ; 
				p2 =    0.0681;		% 0.07816;
			%
			case 'C'			% Cooling Duct
				p1 =   0.000745;	% 0.0007837;
				p2 =   0.0321;		% 0.03914;
			%
			case 'T'			% Total 
				p1 =	0.002399;	% 0.0027407;
				p2 =	0.1002;		% 0.1173;
			%
		end;%
		%
		fVentingPercentage = ( fMassFlow - p2 ) / p1 ;
		fVentingPercentage = round( 10.* ( fVentingPercentage ) )/10;
		%
		if fVentingPercentage > 100
			%
			warning('Warning: The mass flow that is request (%d [kg/s]) it is greater than the maximum possible.', fMassFlow );
			fVentingPercentage = 100;
			%
		elseif fVentingPercentage < 0
			warning('Warning: The calculated venting percentage (%d) is lower than 0. It is set to 0%.', fVentingPercentage );
			fVentingPercentage = 0;
			%
		end;%
		%
	catch exception
		%
		disp(exception.message);
		warning('Problems calculating the percentage of ventilation from the given mass flow.')
		%
	end;% end catch
	%	
end % end function


% fVentingPercentage = MassFlowToVentingPercentageQuadraticCase(	fMassFlow , strKindOfDuct )
%
function fVentingPercentage = MassFlowToVentingPercentageQuadraticCase(	fMassFlow , strKindOfDuct )
	%
	try
		%
		switch strKindOfDuct 
			%
			case 'V'			% Venting Duct
				p1 = -1.885e-05; 
				p2 = 0.004564;
				p3 = 0;
			%
			case 'C'			% Cooling Duct
				p1 =   -9.789e-06;
				p2 = 0.002118;
				p3 = 0;
			%
			case 'T'			% Total 
				p1 = -2.8639e-05;
				p2 = 0.006682;
				p3 = 0;
			%
			otherwise
				error('unknown kind of duct');
			%
		end;% end switch
		%
		fVentingPercentage = - (p2 - (p2^2 - 4*p1*p3 + 4*p1 * fMassFlow)^(1/2))/(2*p1);
		fVentingPercentage = round( 10.* ( fVentingPercentage ) )/10;
		%
		if ( fVentingPercentage > 100 )
			%
			warning('Warning: The mass flow that is request (%d [kg/s]) it is greater than the maximum possible.', fMassFlow );
			fVentingPercentage = 100;
			%
		elseif	( fVentingPercentage < 0 )
			warning('Warning: The calculated venting percentage (%d) is lower than 0. It is set to 0%.', fVentingPercentage );
			fVentingPercentage = 0;
			%
		end;% end check on the percentage
		%
		%
	catch exception
		%
		disp(exception.message);
		warning('Problems calculating the percentage of ventilation from the given mass flow.');
		%
	end;% try
	%
end % function


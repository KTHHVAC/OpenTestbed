% 'src' and 'evt' are arguments passed automatically by the 'timer' objects, 
% thus they need to be handled even if not used
%
function RunPI( src, evt, tController, tTCPConnection )
	%
	try %
		%
		if( tController.bPrintDebugInformation )
			%
			fprintf('Entering Low Level Run()\n');
			%
		end;%
		%
		%------------------------------------------------------------------
		% computing the inputs
		%
		if ( tController.bHasToWork )
			%
			tController.AcquireMeasurements( tTCPConnection );
			tController.AcquireForecasts( tTCPConnection );
			%
		end;% end acquisition of the measurements and forecasts needed only in case of working mood
		%
		tController.ComputeControlInputs();
		tController.Actuate( tTCPConnection );
		%
	catch exception
		%
		disp( exception.message );
		warning('Unable to run the PI control cycle');
		%
	end;% end catch
	%
end %


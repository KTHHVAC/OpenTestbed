% 'src' and 'evt' are arguments passed automatically by the 'timer' objects, 
% thus they need to be handled even if not used
%
function RunGUIPI( src, evt, tController, tTCPConnection, handles )
	%
	%
	try %
		%
		if( tController.bPrintDebugInformation )
			%
			fprintf('Entering Low Level Run()\n');
			%
		end;%
		%
		%------------------------------------------------------------------
		% computing the inputs
		%
		%
		tController.fProportionalConstant	= str2double(get(	handles.KP,						'String'));
		tController.fIntegralConstant		= str2double(get(	handles.KI,						'String'));	
		tController.fDerivativeConstant		= str2double(get(	handles.KD,						'String'));			
		tController.fTemperatureReference	= str2double(get(	handles.Reference,				'String'));
		tController.fValueToDesaturateTheIntegralAction	...
											= str2double(get(	handles.Desaturation,			'String'));
		tController.bUseRadiators			= get(				handles.HeatAlsoWithRadiators,	'Value');
		%
		tController.AcquireMeasurements( tTCPConnection );
		tController.AcquireForecasts( tTCPConnection );
		tController.ComputeControlInputs();
		tController.Actuate( tTCPConnection );
		%
	catch exception
		%
		disp( exception.message );
		warning('Unable to run the PI control cycle');
		%
	end;% end catch
	%
end %


classdef OccupancyScenariosGenerator < handle
	%
	% ---------------------------------------------------------------------
	properties
		%
		bPrintDebugInformation;
		%
		afOriginalRealization;
		afOriginalRealizationJulianDates;
		%
		% the toeplitzed realization goes here
		aafOriginalSamples;
		%
		% division of the samples per period
		atPeriodsCopulas;
		afPeriodsStartingTimes;
		%
		% labels of the periods
		tPeriodsLabels;
		%
		% in number of samples
		iForecastingHorizonInSamples;
		%
		% in seconds
		fSamplingTimeInSeconds;
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods
		%
		% standard constructor
		function tGenerator =								...
					OccupancyScenariosGenerator(			...
						iForecastingHorizonInSamples,		... in number of samples
						fSamplingTimeInSeconds,				... in seconds
						iNumberOfPrecomputedScenarios,		...
						astrOriginalTxtFilepaths,			... cells array of the .txt files containing the occupancy
						strToBeSavedMatFilepath				) % where to save the processed results
			%
			% initialization
			tGenerator.iForecastingHorizonInSamples	= iForecastingHorizonInSamples;
			tGenerator.fSamplingTimeInSeconds		= fSamplingTimeInSeconds;
			%
			% load the labels
			tGenerator.LoadPeriodsLabels();
			tGenerator.LoadPeriodsStartingTimes();
			%
			% allocate the copulas for the various periods
			tGenerator.atPeriodsCopulas = ...
				Scenarios.Copula( tGenerator.tPeriodsLabels.iNumberOfPeriods );
			%
			for iPeriod = 1:tGenerator.tPeriodsLabels.iNumberOfPeriods;
				%
				tGenerator.atPeriodsCopulas(iPeriod).strCopulaFamily = 'Gaussian';
				%
			end;%
			%
			% load the samples
			tGenerator.LoadOriginalRealizationFromHVACDatabaseTxtFile(	...
							astrOriginalTxtFilepaths,					...
							tGenerator.fSamplingTimeInSeconds,					...
							strToBeSavedMatFilepath						);
			%
			% learn the copulas
			tGenerator.LearnTheCopulas();
			%
			% generate the samples so that they are ready
			tGenerator.PrecomputeScenarios( iNumberOfPrecomputedScenarios );
			%
		end %
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods (Static = true)
		%
		%
	end %
	%
end %

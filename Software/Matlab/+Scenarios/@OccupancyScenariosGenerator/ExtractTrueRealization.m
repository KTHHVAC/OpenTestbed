% usage:
%
% afTrueRealization = tGenerator.ExtractTrueRealization( fJulianDate )
%
% inputs:
%
% - fJulianDate           the starting time of the piece of realization to be
%                         returned
%
% outputs:
%
% - afTrueRealization     column, with a number of components that depends on
%                         how the generator has been set at the beginning
%
function afTrueRealization = ExtractTrueRealization( tGenerator, fJulianDate )
	%
	% consistency check
	if(		fJulianDate < tGenerator.afOriginalRealizationJulianDates(1)	...
		||	fJulianDate > tGenerator.afOriginalRealizationJulianDates(end)	)
		%
		warning( 'Requested some non available information' );
		afTrueRealization = [];
		%
	else%
		%
		iStartingIndex	= find( fJulianDate <= tGenerator.afOriginalRealizationJulianDates, 1, 'first' );
		iEndingIndex	= min(	numel(tGenerator.afOriginalRealization),			...
								iStartingIndex + tGenerator.iForecastingHorizonInSamples - 1	);
		%
		afTrueRealization =	tGenerator.afOriginalRealization( iStartingIndex:iEndingIndex );
		%
	end;%
	%
end %

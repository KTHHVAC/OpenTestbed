% usage:
%
% aafScenarios =						...
% 	tGenerator.ExtractTrueScenarios(	...
% 		fInitialJulianDate,				...
% 		iNumberOfScenarios,				...
% 		fInitialCondition				);% [optional]
%
% inputs:
%
% - fInitialJulianDate    needed to understand if the generation follows the
%                         pattern of the morning / afternoon / night, etc.
%
% - iNumberOfScenarios    how many scenarios one wants to be returned
%
% - fInitialCondition     OPTIONAL, if given it returns only scenarios that
%                         start with that given initial condition. If the
%                         marginals does not admit that initial condition (i.e.,
%                         that condition has never been seen when training the
%                         generator) then the scenarios returned will violate
%                         that initial condition
%
% outputs:
%
% - aafScenarios          matrix, whose rows are scenarios. Thus the matrix has
%                         iNumberOfScenarios rows and a number of columns that
%                         depends on how the generator has been set at the
%                         beginning
%
function aafScenarios =										...
			ExtractTrueScenarios(							...
				tGenerator,									...
				fInitialJulianDate,							...
				iNumberOfScenarios,							...
				fInitialCondition,							... optional
				fConsiderOriginalSamplesFromJulianDate,		... optional
				fConsiderOriginalSamplesUpToJulianDate		) % optional
	%
% 	try %
		%
		if( tGenerator.bPrintDebugInformation )
			%
			fprintf('Entering ExtractTrueScenarios()\n');
			%
		end;%
		%
		switch( nargin )
			%
			case 1
				fInitialJulianDate						= Time.GetCurrentJulianDate();
				iNumberOfScenarios						= 10;
				fInitialCondition						= [];
				fConsiderOriginalSamplesFromJulianDate	= -1;
				fConsiderOriginalSamplesUpToJulianDate	= -1;
			%
			case 2
				iNumberOfScenarios						= 10;
				fInitialCondition						= [];
				fConsiderOriginalSamplesFromJulianDate	= -1;
				fConsiderOriginalSamplesUpToJulianDate	= -1;
			%
			case 3
				fInitialCondition						= [];
				fConsiderOriginalSamplesFromJulianDate	= -1;
				fConsiderOriginalSamplesUpToJulianDate	= -1;
			%
			case 4
				fConsiderOriginalSamplesFromJulianDate	= -1;
				fConsiderOriginalSamplesUpToJulianDate	= -1;
			%
			case 5
				fConsiderOriginalSamplesUpToJulianDate	= -1;
			%
			case 6
				% do nothing
			%
			otherwise
				error('wrong number of arguments in ExtractTrueScenarios');
			%
		end;% switch
		%
		%
		%
		iPeriod = tGenerator.JulianDateToPeriod( fInitialJulianDate );
		%
		aafScenarios =												...
			tGenerator.atCopulas(iPeriod).ExtractOriginalSamples(	...
				iNumberOfScenarios,									...
				fInitialCondition,									...
				fConsiderOriginalSamplesFromJulianDate,				...
				fConsiderOriginalSamplesUpToJulianDate				);
		%
		if( tGenerator.bPrintDebugInformation )
			%
			fprintf('Exiting ExtractTrueScenarios()\n');
			%
		end;%
		%
% 	catch exception
% 		%
% 		disp( exception.message );
% 		warning('Unable to extract the true scenarios');
% 		%
% 	end % try
	%
end % function


% usage:
%
% afTrueRealization = tGenerator.ExtractTrueRealizations( fJulianDate )
%
% inputs:
%
% - fJulianDate           the starting time of the piece of realization to be
%                         returned
%
% outputs:
%
% - afTrueRealizations    column, with a number of components that depends on
%                         how the generator has been set at the beginning
%
function afTrueRealizations = ExtractTrueRealizations( tGenerator, fJulianDate )
	%
	% consistency check
	if(		fJulianDate < tGenerator.afOriginalRealizationsJulianDates(1)	...
		||	fJulianDate > tGenerator.afOriginalRealizationsJulianDates(end)	)
		%
		warning( 'Requested some non available information' );
		afTrueRealization = [];
		%
	else%
		%
		iStartingIndex	= find( fJulianDate <= tGenerator.afOriginalRealizationsJulianDates, 1, 'first' );
		iEndingIndex	= min(	numel(tGenerator.afOriginalRealizations),			...
								iStartingIndex + tGenerator.iForecastingHorizonInSamples - 1	);
		%
		afTrueRealization =	tGenerator.afOriginalRealizations( iStartingIndex:iEndingIndex );
		%
	end;%
	%
end %

% algorithm:
%
% map each element of the input in [0 1] accordingly to the marginal CDF
%
function aafRankedSamples = RankSamples( tCopula, aafNonrankedSamples )
	%
	% storage allocation
	aafRankedSamples = zeros( size(aafNonrankedSamples) );
	% 
	for iCol = 1:size( aafNonrankedSamples, 2 );
		%
		aafRankedSamples(:, iCol) = tCopula.atMarginalCDFs(iCol).RankSamples( aafNonrankedSamples(:, iCol) );
		%
	end;%
	%
	% barbatrick -- copulafit wants ranked samples strictly in [0, 1]
	aafRankedSamples = aafRankedSamples .* 0.9990;
	aafRankedSamples = aafRankedSamples +  0.0005;
	%
end %


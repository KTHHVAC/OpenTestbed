classdef SolarRadiationScenariosGenerator < Scenarios.ScenariosGenerator
	%
	% ---------------------------------------------------------------------
	properties
		%
		% labels of the periods
		tPeriodsLabels;
		%
		% starting times of the periods
		afPeriodsStartingTimes;
		%
		% in number of samples
		iForecastingHorizonInSamples;
		%
		% object for the conversion of the sky cover and maximal radiation
		% to the actual radiation
		tSkyCoverToRadiationConverter;
		%
		% object of type ZoneEnvelope to simulate the building
		tEnvelope;
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods
		%
		% standard constructor
		function tGenerator = SolarRadiationScenariosGenerator( fSamplingTimeInSeconds )
			%
			% call the super-constructor
			tGenerator =									...
				tGenerator@Scenarios.ScenariosGenerator(	...
					fSamplingTimeInSeconds,					...
					2,										...
					'solar radiation scenarios generator'	);
			%
			% load the sky cover converter from file
			tGenerator.tSkyCoverToRadiationConverter =									...
				Scenarios.SkyCoverToRadiationConverter.LoadFromMatFile(					...
					'../../Datasets/SkyCoverToRadiation/SkyCoverToRadiationConverter.mat');
				
			% parameters for object of type ZoneEnvelope
			tZoneEnvelopeParameters = PhysicalModels.LoadBuildingRadiationParameters();
 			%
 			% create object of type ZoneEnvelope
			tGenerator.tEnvelope =											...
				PhysicalModels.ZoneEnvelope(								...
					tZoneEnvelopeParameters.fAzimuthInDegreesOfFirstWall,	...
					tZoneEnvelopeParameters.fLatitudeInDegrees,				...
					tZoneEnvelopeParameters.fLongitudeInDegrees,			...
					tZoneEnvelopeParameters.fTimeZoneInHours,				...
					tZoneEnvelopeParameters.abAreWallsShadowed,				...
					tZoneEnvelopeParameters.bIsRoofShadowed					);
			%
			% introduce correct Tilt angle for the walls
			[tGenerator.tEnvelope.atWalls(:).fTiltInDegrees] =  deal(90);
			%
		end %
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods (Static = true)
		%
		%
	end %
	%
end % classdef


classdef SolarRadiationScenariosGenerator < Scenarios.ScenariosGenerator
	%
	% ---------------------------------------------------------------------
	properties
		%
		% labels of the periods
		tPeriodsLabels;
		%
		% starting times of the periods
		afPeriodsStartingTimes;
		%
		% in number of samples
		iForecastingHorizonInSamples;
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods
		%
		% standard constructor
		function tGenerator =								...
					SolarRadiationScenariosGenerator(		...
						iForecastingHorizonInSamples,		... in number of samples
						fSamplingTimeInSeconds,				... in seconds
						iNumberOfPrecomputedScenarios,		...
						astrOriginalDatasetsFilepaths,		... cells array of the .txt files containing the occupancy
						strResultsFilepath					) % where to save the processed results
			%
			tGenerator = tGenerator@Scenarios.ScenariosGenerator( fSamplingTimeInSeconds );
			tGenerator.iForecastingHorizonInSamples = iForecastingHorizonInSamples;
			%
			% load the labels
			tGenerator.LoadPeriodsLabels();
			tGenerator.LoadPeriodsStartingTimes();
			%
			% allocate the copulas for the various periods
			tGenerator.atCopulas = ...
				Scenarios.Copula( tGenerator.tPeriodsLabels.iNumberOfPeriods );
			%
			for iPeriod = 1:tGenerator.tPeriodsLabels.iNumberOfPeriods;
				%
				tGenerator.atCopulas(iPeriod).strCopulaFamily = 'Gaussian';
				%
			end;%
			%
			% load the samples
			tGenerator.LoadOriginalRealizationsFromHVACDatabaseTxtFile(		...
							astrOriginalDatasetsFilepaths,					...
							strResultsFilepath								);
			%
			% learn the copulas
			tGenerator.LearnTheCopulas();
			%
			% generate the samples so that they are ready
			tGenerator.PrecomputeScenarios( iNumberOfPrecomputedScenarios );
			%
			% allocate the sky cover to radiation converter TODO
% 			tGenerator.tSkyCoverToRadiationConverter = Scenarios.SkyCoverToRadiationConverter(); 
			%
		end %
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods (Static = true)
		%
		%
	end %
	%
end %

classdef SolarRadiationScenariosGenerator < handle
	%
	% ---------------------------------------------------------------------
	properties
		%
		bPrintDebugInformation;
		%
		aafOriginalSamples;
		afOriginalSamplesJulianDates;
		%
		% division of the samples per period
		atCopulas;
		afPeriodsStartingTimes;
		%
		% labels of the periods
		tPeriodsLabels;
		%
		% in number of samples
		iForecastingHorizonInSamples;
		%
		% in seconds
		fSamplingTimeInSeconds;
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods
		%
		% standard constructor
		function tGenerator =								...
					SolarRadiationScenariosGenerator(		...
						iForecastingHorizonInSamples,		...
						fSamplingTimeInSeconds,				...
						iNumberOfPrecomputedScenarios,		...
						astrOriginalTxtFilepaths,			... cells array of the .txt files containing the occupancy
						strToBeSavedMatFilepath				) % where to save the processed results
			%
			% initialization
			tGenerator.iForecastingHorizonInSamples	= iForecastingHorizonInSamples;
			tGenerator.fSamplingTimeInSeconds		= fSamplingTimeInSeconds;
			%
			% load the labels
			tGenerator.LoadPeriodsLabels();
			tGenerator.LoadPeriodsStartingTimes();
			%
			% allocate the copulas for the various periods
			tGenerator.atCopulas = ...
				Scenarios.Copula( tGenerator.tPeriodsLabels.iNumberOfPeriods );
			%
			for iPeriod = 1:tGenerator.tPeriodsLabels.iNumberOfPeriods;
				%
				tGenerator.atCopulas(iPeriod).strCopulaFamily = 'Gaussian';
				%
			end;%
			%
			% load the samples
			tGenerator.LoadOriginalSamplesFromHVACDatabaseTxtFile(		...
							astrOriginalTxtFilepaths,					...
							tGenerator.fSamplingTimeInSeconds,			...
							strToBeSavedMatFilepath						);
			%
			% learn the copulas
			tGenerator.LearnTheCopulas();
			%
			% generate the samples so that they are ready
			tGenerator.PrecomputeScenarios( iNumberOfPrecomputedScenarios );
			%
			% allocate the sky cover to radiation converter
			tSkyCoverToRadiationConverter = Scenarios.SkyCoverToRadiationConverter(); 
			%
		end %
		%
	end %
	%
	%
	% ---------------------------------------------------------------------
	methods (Static = true)
		%
		%
	end %
	%
end %

% prepare the workspace
clear all;
clear classes;
close all;
clc;
import EstimationAlgorithms.*;
import PhysicalModels.*;
import MatlabToTikZ.*;
import Scenarios.*;


% load the objects
tOccupancy 		= Scenarios.ScenariosGenerator.LoadFromMatFile('../../Datasets/Scenarios/OccupancyGenerator.mat');
tTemperature 	= Scenarios.ScenariosGenerator.LoadFromMatFile('../../Datasets/Scenarios/TemperatureGenerator.mat');
tSolarRadiation	= Scenarios.ScenariosGenerator.LoadFromMatFile('../../Datasets/Scenarios/SolarRadiationGenerator.mat');


% for readability
% iStartingHour = tOccupancy.tPeriodsLabels.i7;
% [ iNumberOfDays, iNumberOfHoursPerDay ] = size( tOccupancy.atCopulas(iStartingHour).aafOriginalSamples );
% afTimes = Time.GregorianDateToJulianDate(2013, 1, 1, 0, 0, 0) + ( (iStartingHour:1:iStartingHour+iNumberOfHoursPerDay-1) * Time.GetJulianHour() )';

% % --------------------------------------------
% % export the daily occupancy patterns
% %
% aafSignals			= [ afTimes, round( tOccupancy.atCopulas(iStartingHour).aafOriginalSamples' ) ];
% abJulianDates		= zeros( iNumberOfDays + 1, 1 );
% abJulianDates(1)	= true;
% %
% MatlabToTikZ.ExportLineplot(			...
% 	'~/Dropbox/HVAC Project/Papers/IFAC2014_Experimental_Validation_RMPC/Article/DatavisualizationsTables/MeasuredDailyOccupancyPatterns.txt',			...
% 	aafSignals,											...
% 	MatlabToTikZ.ConstructDefaultHeader( aafSignals ),	...
% 	1,													...
% 	3,													...
% 	abJulianDates										);

% % --------------------------------------------
% % export the some copula based generated occupancy patterns
% %
% aafScenarios		= round( tOccupancy.ExtractScenarios( afTimes(1), iNumberOfDays ) );
% tOccupancy.PlotScenarios( afTimes(1), aafScenarios );
% %
% aafSignals			= [ afTimes, aafScenarios' ];
% abJulianDates		= zeros( iNumberOfDays + 1, 1 );
% abJulianDates(1)	= true;
% %
% MatlabToTikZ.ExportLineplot(			...
% 	'~/Dropbox/HVAC Project/Papers/IFAC2014_Experimental_Validation_RMPC/Article/DatavisualizationsTables/CopulaBasedGeneratedDailyOccupancyPatterns.txt',			...
% 	aafSignals,											...
% 	MatlabToTikZ.ConstructDefaultHeader( aafSignals ),	...
% 	1,													...
% 	3,													...
% 	abJulianDates										);

% --------------------------------------------
% export the some copula based generated occupancy patterns

tTemperature.PlotOriginalRealizations()
pause
%
iStartingHour = 1;
[ iNumberOfSamples, iNumberOfHoursPerSample ] = size( tTemperature.atCopulas(iStartingHour).aafOriginalSamples )
afTimes = Time.GregorianDateToJulianDate(2013, 1, 1, 0, 0, 0) + ( (iStartingHour:1:iStartingHour+iNumberOfHoursPerSample-1) * Time.GetJulianHour() )';
%
aafSignals			= [ afTimes, tTemperature.atCopulas(iStartingHour).aafOriginalSamples' ];
abJulianDates		= zeros( iNumberOfSamples + 1, 1 );
abJulianDates(1)	= true;
%
MatlabToTikZ.ExportLineplot(			...
	'~/Dropbox/HVAC Project/Papers/IFAC2014_Experimental_Validation_RMPC/Article/DatavisualizationsTables/CopulaBasedMeasuredExternalTemperatureForecastsErrors.txt',			...
	aafSignals,											...
	MatlabToTikZ.ConstructDefaultHeader( aafSignals ),	...
	1,													...
	3,													...
	abJulianDates										);

% tSolarRadiation.tEmpiricalMap.ExportToTxtForTikZScatterplot(	...
% 	'~/Dropbox/HVAC Project/Papers/IFAC2014_Experimental_Validation_RMPC/Article/DatavisualizationsTables/SolarRadiationConverterEmpiricalMap.txt');
% 
% tSolarRadiation.tRegressionMap.ExportToTxtForTikZSurfplot(	...
% 	'~/Dropbox/HVAC Project/Papers/IFAC2014_Experimental_Validation_RMPC/Article/DatavisualizationsTables/SolarRadiationConverterRegressionMap.txt');


close all
clear all

import EstimationAlgorithms.*;
import Controller.*;
import MatlabToTikZ.*;
import InternetConnection.*;
import Scenarios.*;

tCO2ControllerParameters				= Controller.LoadStochasticCO2MPCParameters();
tCO2Controller							= Controller.StochasticCO2MPC( tCO2ControllerParameters );
tTemperatureControllerParameters		= Controller.LoadStochasticTemperatureMPCParameters();
tTemperatureController					= Controller.StochasticTemperatureMPC( tTemperatureControllerParameters );
tAirConditionedPIControllerParameters	= Controller.LoadAirConditionedPIControllerParameters();  
tAirConditionedPIController				= Controller.AirConditionedPIController( tAirConditionedPIControllerParameters );
			
fCurrentJulianDate = Time.GetCurrentJulianDate();

% tTemperatureController.tRadiationScenariosGenerator	= Scenarios.ScenariosGenerator.LoadFromMatFile('../../Datasets/Scenarios/SolarRadiationGenerator.mat');
% tTemperatureController.iNumberOfScenarios = 10;

% % tTemperatureController.aafRadiationScenarios	=									...
% % 	tTemperatureController.tRadiationScenariosGenerator.ExtractScenarios(			...
% % 											fCurrentJulianDate,						...
% % 											tTemperatureController.iNumberOfScenarios);
										
% aafRadiationScenarios		= tSolarRadiation.ExtractScenarios(	afJulianDates, iNumberOfScenarios)

fInitialCondition=[];

[	aafSolarRadiationScenarios,			...
			aafSkyCoverScenarios,				...
			afMaximalRadiation			] =		...
				ExtractScenarios(				...
					tTemperatureController.tRadiationScenariosGenerator,					...
					tTemperatureController.fStartingJulianDate,			...
					tTemperatureController.iNumberOfScenarios,			...
					fInitialCondition			);

% import Time.*
% fInitialJulianDate	= Time.GetCurrentJulianDate();
% afJulianDates =												...
% 			(														...
% 					( 1:tTemperatureController.tRadiationScenariosGenerator.iForecastingHorizonInSamples )	...
% 				*	tTemperatureController.tRadiationScenariosGenerator.fSamplingTimeInSeconds				...
% 				*	Time.GetJulianSecond()							...
% 			)														...
% 			+														...
% 			fInitialJulianDate;
% JulianDateToString_YYMMDDHHMMSS(afJulianDates)
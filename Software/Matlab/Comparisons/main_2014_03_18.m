%% Comparison

clc
clear all
close all

cd ..
% to get the updated models
addpath(genpath('Models/'));
addpath(genpath('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons'));
addpath(genpath('C:/Program Files/IBM/ILOG/CPLEX_Studio125/cplex'));

load('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons\SavedData\afInitial'); 
load('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons\SavedData\aafAllDisturbances');
% load('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons\SavedData\OccupancyScenario');
% load('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons\SavedData\TemperatureScenario_Simulation5500');
% load('C:\Users\Amministratore\Documents\GitHub\OpenTestbed\Software\Matlab\Comparisons\SavedData\OccupancyScenario_Simulation');

bExplicitController                                     = false;
bBenchMarkController                                    = true;

iConsideredHorizon										= 48;


if bBenchMarkController == 1
    %
    tBMTemperatureControllerParameters                              = Controller.LoadStochasticComparisonParameters();
    tBenchMarkTemperatureController                                 = Controller.BenchMarkTemperatureComparisonMPC(tBMTemperatureControllerParameters);	
    tBenchMarkTemperatureController.afLowerBoundForTheVentilation   = repmat(0.1002, tBenchMarkTemperatureController.iPredictionHorizon,1);
    EvaluationBenchMarkTemperature
    tBenchMarkTemperatureController.Postprocessing;
    tBenchMarkTemperatureController.EnergyComputation;
    %
else
    %do nothing
end;%
%
if bExplicitController == 1
    %
    tTemperatureControllerParametersExplicitStochastic              = Controller.LoadExplicitTemperatureMPCParameters();
    tExplicitTemperatureController                                  = Controller.ExplicitWCTemperatureMPC( tTemperatureControllerParametersExplicitStochastic );
    tExplicitTemperatureController.afLowerBoundForTheVentilation    = repmat(0.1002, tBenchMarkTemperatureController.iPredictionHorizon,1);
    EvaluationExplicitTemperatureStochastic
    tExplicitTemperatureController.Postprocessing;
    tExplicitTemperatureController.EnergyComputation;
    %
else
    %do nothing
end;%

%% Visualization of the results
%
PlotImpExp

clc
clear all
close all


load('SavedData/Disturbances.mat')
load('SavedData/LookUpTable.mat')
load('SavedData/Scenarios.mat')

cd ..

tTemperatureControllerParameters								= Controller.LoadStochasticTemperatureMPCParameters();
tTemperatureController											= Controller.StochasticTemperatureComparisonMPC( tTemperatureControllerParameters );
tTemperatureController.afLowerBoundForTheVentilation			= repmat(0.14, 1, tTemperatureController.iPredictionHorizon);

tTemperatureController.fSamplingTimeInSeconds				= 30*60;	% Sampling frequency
tTemperatureController.iPredictionHorizon					= 24;		% Prediction Horizon in steps of Sampling frequency
tTemperatureController.iNumberOfScenarios					= 1000 ;


tTemperatureController.tModel.afCurrentState					= 21*ones(13,1);
tTemperatureController.tModel.aafDisturbancesScenarioMatrix		= aafDisturbancesScenarioMatrix;

for iTimeStep = 1:tTemperatureController.iPredictionHorizon
	%
	tTemperatureController.ComputeControlInputs();
	u = tTemperatureController.afOptimizationProblemSolution(1);
	Simulation
	%
end;%
function [ afValues, afTimes ] = GetFromServer( tConnection, iSignalID, iDeviceID )
	%
	% initialization
	afValues 	= [];
	afTimes 	= [];
	%
	try %
		%
		% Create the data request message
		tConnection.tMessage.acData = tConnection.GetReceiveMessageHeader(iSignalID, iDeviceID);
		%
		tConnection.tMessage.iSize = size( tConnection.tMessage.acData, 2 );
		%
		% Send the request
		tConnection.SendData();
		%
		% Receive the answer
		tConnection.ReceiveData();
		%
		% if the received data is successful then exit
		if( tConnection.WasLastConnectionSuccessful()  )
			%
			[ afValues, afTimes ] = tConnection.ProcessReceivedData( iSignalID, iDeviceID );
			%
		else%
			%
			warning('tConnection.GetFromServer: the last connection was not successful');
			%
		end;%
		%
	catch exception
		%
		disp(exception.message);
		warning('tConnection.GetFromServer: caught an exception');
		%
	end;%
	%
end % function


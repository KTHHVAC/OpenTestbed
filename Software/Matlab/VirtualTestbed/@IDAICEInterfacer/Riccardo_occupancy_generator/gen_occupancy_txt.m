function gen_occupancy_txt(occupancy,timings,starttime,stoptime)
    % Generate an occupancy txt file for IDA
    % The inputs are
    %   occupancy: vector of real numbers
    %   timings: vector of numbers in [0 1], fractions of the considered
    %       timespan

    if nargin==2
        % default start and stop times,
        % if nothing special is required
        starttime= '141127000101';
        stoptime= '141128235959';
    end

    start_date = datenum(starttime,'yymmddHHMMSS');
    stop_date = datenum(stoptime,'yymmddHHMMSS');

    delta_time = stop_date - start_date;

    t_change = delta_time*timings+start_date;


    file_id = fopen('output.txt', 'w');
    for i = 1:numel(occupancy);
        time = datestr(t_change(i),'yymmddHHMMSS');
        line = sprintf('7000   50      %i           %s   0.3263 0.2978 0.5\n',occupancy(i),time);
        fprintf(file_id, line);
    end
    fclose(file_id);
    disp('-> File generated successfully!')
end


addpath '../'

% parameters
strOriginalFilePath						= '@IDAICEInterfacer/LispFiles/ida_lisp.ida';
strResultsFilePath						= 'ida_lisp_new.ida';
%
iNumberOfSamplesPerSignalPerDay			= 2;
fRequestedTimeGranularityForIDALogFiles = 0.1;
%
tOccupancySignal						= IDAICEInterfacer.GenerateRandomOccupancySignal( 60, 4, Time.GregorianDateToJulianDate( 2014, 11, 27, 0, 0, 0) );
cstrOccupancyModuleName					= {'Schedule_3'};
cstrOccupancyModuleName2				= {'Schedule_2'};
%
tMainVentilationLevelsSignal			= Signal.ImportFromFormattedTxt( '@IDAICEInterfacer/SignalsInTxt/main_ventilation_levels.txt' );
cstrMainVentilationLevelsModuleName		= {'Sched_AHU'};
%
tLocalVentilationLevelsSignal			= Signal.ImportFromFormattedTxt( '@IDAICEInterfacer/SignalsInTxt/local_ventilation_levels.txt' );
cstrLocalVentilationLevelsModuleName	= {'Schedule_1'};


% % DEBUG
% tOccupancySignal.Plot();
% tMainVentilationLevelsSignal.Plot();
% tLocalVentilationLevelsSignal.Plot();


% format the information in a convenient way
atSignals				=	[												...
								tOccupancySignal,							...
								tOccupancySignal,							...
								tMainVentilationLevelsSignal,				...
								tLocalVentilationLevelsSignal,				...
							];
acstrModulesNames		=	[												...
								cstrOccupancyModuleName,					...
								cstrOccupancyModuleName2,					...
								cstrMainVentilationLevelsModuleName,		...
								cstrLocalVentilationLevelsModuleName,		...
							];


% write the lisp file
IDAICEInterfacer.GenerateLispFileFromTemplate(	...
	strOriginalFilePath,						...
	strResultsFilePath,							...
	atSignals,									...
	acstrModulesNames,							...
	iNumberOfSamplesPerSignalPerDay,			...
	fRequestedTimeGranularityForIDALogFiles		);


% DEBUG
fprintf('Lisp file generated successfully.\n');


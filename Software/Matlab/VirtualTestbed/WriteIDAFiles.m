
addpath '../'

% parameters
strOriginalFilePath							= '@IDAICEInterfacer/LispFiles/ida_lisp.ida';
strResultsFilePath							= 'ida_lisp_new.ida';
%
iNumberOfSamplesPerSignalPerDay				= 10;
%
tOccupancySignal						= IDAICEInterfacer.GenerateRandomOccupancySignal( 60, 5 );
cstrOccupancyModuleName					= {'Schedule_3'};
%
tMainVentilationLevelsSignal			= Signal.ImportFromFormattedTxt( '@IDAICEInterfacer/SignalsInTxt/local_ventilation_levels.txt' );
cstrMainVentilationLevelsModuleName		= {'Sched_AHU'};
%
tLocalVentilationLevelsSignal			= Signal.ImportFromFormattedTxt( '@IDAICEInterfacer/SignalsInTxt/main_ventilation_levels.txt' );
cstrLocalVentilationLevelsModuleName	= {'Schedule_1'};


% % DEBUG
% tOccupancySignal.Plot();
% tMainVentilationLevelsSignal.Plot();
% tLocalVentilationLevelsSignal.Plot();


% format the information in a convenient way
atSignals				=	[												...
								tOccupancySignal,							...
								tMainVentilationLevelsSignal,				...
								tLocalVentilationLevelsSignal,				...
							];
acstrModulesNames		=	[												...
								cstrOccupancyModuleName,					...
								cstrMainVentilationLevelsModuleName,		...
								cstrLocalVentilationLevelsModuleName,		...
							];


% write the lisp file
IDAICEInterfacer.GenerateLispFileFromTemplate(	...
	strOriginalFilePath,						...
	strResultsFilePath,							...
	atSignals,									...
	acstrModulesNames,							...
	iNumberOfSamplesPerSignalPerDay				);


% DEBUG
fprintf('Lisp file generated successfully.\n');

